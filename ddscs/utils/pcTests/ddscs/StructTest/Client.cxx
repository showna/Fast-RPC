/** 
 * Generated by DDSCS                                                    *
 * Example client. Method params should be initialized before execution  *
 */

#include "StructTestProxy.h"
#include "StructTestRequestReplyPlugin.h"

int main()
{
    int domainId = 0;
    unsigned int timeoutInMillis = 4000;
    StructTestProxy *proxy = new StructTestProxy(domainId, timeoutInMillis);
    DDS_Duration_t period = {5,0};
    
    Envio *ev = EnvioPluginSupport_create_data();       
   
    Recepcion *duplicate_ret = RecepcionPluginSupport_create_data();       
    DDSCSMessages  duplicateRetValue;        

    /**
     * Dynamic memory passed to the proxy will be freed before return *
     * Pass a copy if you want to keep it                             *
     */
    duplicateRetValue = proxy->duplicate(*ev    ,*duplicate_ret    );

    Envio *ev1 = EnvioPluginSupport_create_data();    
    Envio *ev2 = EnvioPluginSupport_create_data();       
   
    Recepcion *suma_ret = RecepcionPluginSupport_create_data();       
    DDSCSMessages  sumaRetValue;        

    /**
     * Dynamic memory passed to the proxy will be freed before return *
     * Pass a copy if you want to keep it                             *
     */
    sumaRetValue = proxy->suma(*ev1    , *ev2    ,*suma_ret    );


   delete(proxy);
   NDDSUtility::sleep(period);
}