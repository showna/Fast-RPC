/** 
 * Generated by DDSRPC                                              *
 * Empty interface implementation to be filled with your own code.  *
 */

#include "StructTestServerImpl.h"

StructTestServerImpl::StructTestServerImpl()
{
}
StructTestServerImpl::~StructTestServerImpl()
{
}


eProsima::DDSRPC::ReturnMessage StructTestServerImpl::duplicate(/*in*/ const Envio* ev, /*out*/ Recepcion* &duplicate_ret) 
{
	eProsima::DDSRPC::ReturnMessage  retCode = eProsima::DDSRPC::OPERATION_SUCCESSFUL;    

	duplicate_ret->devolucion = ev->dato;
	duplicate_ret->message = DDS::String_dup(ev->message);

	return retCode;
} 

eProsima::DDSRPC::ReturnMessage StructTestServerImpl::suma(/*in*/ const Envio* ev1, /*in*/ const Envio* ev2, /*out*/ Recepcion* &suma_ret) 
{
	eProsima::DDSRPC::ReturnMessage  retCode = eProsima::DDSRPC::OPERATION_SUCCESSFUL;    

	suma_ret->devolucion = ev1->dato + ev2->dato;
	suma_ret->message = DDS::String_alloc(strlen(ev1->message) + strlen(ev2->message) + 1);
	_snprintf(suma_ret->message, strlen(ev1->message) + strlen(ev2->message) + 1, "%s%s", ev1->message, ev2->message);

	return retCode;
} 
